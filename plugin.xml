<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0" id="cordova-plugin-change-app-info" version="1.0.0">
    <name>Change App Info Plugin</name>
    <author>André Gonçalves @ OutSystems</author>
    <description>
        Cordova plugin that allows you to change the info of your app
    </description>
    <keywords>cordova, ios, app, display name</keywords>
    <license>MIT</license>
    <engines>
        <engine name="cordova" version=">=3.0.0"/>
    </engines>

    <preference name="APP_NAME"/>
    <preference name="CDN_ASSETS"/>
    <preference name="CDN_ICON"/>
    
    <!--<hook type="before_compile" src="scripts/before-compile.js"/>-->
    <hook type="before_plugin_install" src="scripts/npmInstall.js"/>

    <platform name="android">
        <hook type="before_prepare" src="scripts/generate-icons.js"/>
        <hook type="after_prepare" src="scripts/update-android-app-info.js"/>
        <hook type="after_prepare" src="scripts/update-android-small-icon.js"/>
        <hook type="after_prepare" src="scripts/replace-assets-from-cdn.js"/>
        <config-file target="config.xml" parent="/*">
            <preference name="appName" value="$APP_NAME"/>
            <preference name="cdnAssets" value="$CDN_ASSETS"/>
            <preference name="cdnIcon" value="$CDN_ICON"/>
        </config-file>
    </platform>

    <platform name="ios">
        <hook type="before_prepare" src="scripts/generate-icons.js"/>
        <hook type="after_prepare" src="scripts/update-ios-app-info.js"/>
        <hook type="after_prepare" src="scripts/replace-assets-from-cdn.js"/>
        <config-file target="config.xml" parent="/*">
            <preference name="appName" value="$APP_NAME"/>
            <preference name="cdnAssets" value="$CDN_ASSETS"/>
            <preference name="cdnIcon" value="$CDN_ICON"/>
        </config-file>
    </platform>
</plugin>
